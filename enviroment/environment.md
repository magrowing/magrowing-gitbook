# ê°œë°œ í™˜ê²½

## í•™ìŠµ í‚¤ì›Œë“œ

* Node.js
  * `fnm(Fast Node Manager)`
* NPM(Node Package Manager)
  * package.json / package-lock.json
  * node\_modules
  * npx
* ES Modules vs CommonJS

<br/>

## ê°œë°œ í™˜ê²½ ì„¸íŒ…

ê°œë°œ í™˜ê²½ì„ Node.jsë¡œ ì„¸íŒ…ì„ í•œë‹¤. toolchainì´ë¼ê³  ë¶€ë¥´ëŠ” ê°œë°œ í™˜ê²½, ë„êµ¬ë“¤ì˜ ëª¨ìŒì„ Node.jsë¡œ ì“´ë‹¤.  
Denoë¥¼ ì‚¬ìš©í•˜ë©´ í›¨ì”¬ ê°„ë‹¨í•˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ì„œë¹„ìŠ¤ë“¤ì€ Node.jsë¡œ êµ¬ì¶•ë˜ì–´ ìˆë‹¤. Node.jsë¥¼ í†µí•œ ê°œë°œ í™˜ê²½ ì„¸íŒ…ì€ ìƒê°ë³´ë‹¤ ê¹Œë‹¤ë¡­ë‹¤.

ì–´ë ¤ìš´ ì´ìœ ëŠ” ë„êµ¬ê°€ ê³„ì† ë³€í™”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ìƒˆë¡œìš´ ë„êµ¬ê°€ ë‚˜ì˜¤ë©´ ê·¸ê³³ìœ¼ë¡œ ì ë¦¬ê³  ê³„ì† ë³€í™”í•œë‹¤.  
ê°•ì˜ì—ì„œëŠ” ì „ì²´ì ì¸ íë¦„ì„ íŒŒì•…í•˜ë©° ìƒˆë¡œìš´ ë„êµ¬ê°€ ë‚˜ì˜¤ë©´ ì´ë ‡ê²Œ ì¨ë´ì•¼ì§€, ì´ëŸ°ê±´ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ê³  ë‚˜ì™”êµ¬ë‚˜ ë“±ì˜ ì ‘ê·¼ì„ í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤.  

ì§€ê¸ˆì˜ ì„¸íŒ…ë„ ë‚˜ì¤‘ì—ëŠ” ì¡°ê¸ˆì”© ë‹¬ë¼ì§ˆ ê²ƒì´ë‹¤.  
ì „ì²´ì ì¸ íë¦„ì„ íŒŒì•…í•˜ê³  ì•ìœ¼ë¡œì˜ ë³€ê²½ì— ëŒ€ì‘ í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê¸°ë¥´ì.

<br/>

## JavaScript (Node.js) ê°œë°œ í™˜ê²½

### ğŸ“– __[Node.js](https://nodejs.org/en)__ ë¬´ì—‡ì¸ê°€?

* Chrome V8 JavaScript ì—”ì§„ìœ¼ë¡œ ë¹Œë“œëœ JavaScript ëŸ°íƒ€ì„ì´ë‹¤.
  * ëŸ°íƒ€ì„ì€ íŠ¹ì • ì–¸ì–´ë¡œ ë§Œë“  í”„ë¡œê·¸ë¨ë“¤ì„ ì‹¤í–‰ í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì˜ë¯¸í•œë‹¤.
* í„°ë¯¸ë„ì„ í†µí•´ ë²„ì „ í™•ì¸ í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ `node -v`

__â‡’ JavaScriptë¥¼ ë¸Œë¼ìš°ì € ì™¸ë¶€ì—ì„œ ì‹¤í–‰í•´ì£¼ëŠ” í™˜ê²½ì´ë‹¤.__

* __[fnm (Fast Node Manager)](https://github.com/Schniz/fnm)__
  * ê³„ì† ì—…ê·¸ë ˆì´ë“œë˜ëŠ” Node.jsë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ í”„ë¡œì íŠ¸ë§ˆë‹¤ ì„œë¡œ ë‹¤ë¥¸ ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
  * ì—¬ëŸ¬ ë²„ì „ì˜ Node.jsë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆëŠ”ë°, [fnm](https://github.com/Schniz/fnm)ì„ ì‚¬ìš©í•˜ë©´ ì´ê²Œ ê°€ëŠ¥í•˜ë‹¤.

<br/>

## TypeScript + ESLint + React + Jest + Parcel ê°œë°œ í™˜ê²½ ì„¸íŒ…

### 1. ì‘ì—… í´ë” ì¤€ë¹„

* CLIë¡œ ì‘ì—… í´ë”ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•

```shell
# ì‘ì—… í´ë” ìƒì„± 
mkdir my-app 

# ìƒì„±í•œ í´ë”ë¡œ ì´ë™ 
cd my-app

# IDE ì‹¤í–‰
code . 
```

<br/>

### 2. npm íŒ¨í‚¤ì§€ë¥¼ ì¤€ë¹„

#### ğŸ“– __[npm(Node Package Manager)](https://docs.npmjs.com/, 'npm docs link')__ ë¬´ì—‡ì¸ê°€?

* Node.jsì˜ íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬
* Node.jsì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëª¨ë“ˆë“¤ì„ íŒ¨í‚¤ì§€í™”í•˜ì—¬ ëª¨ì•„ë‘” ì €ì¥ì†Œ ì—­í• ê³¼ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ê´€ë¦¬ë¥¼ ìœ„í•œ CLI(Command line interface)ë¥¼ ì œê³µí•œë‹¤.

* __package.json / package-lock.json__
  * __package.json__
    * í˜„ì¬ í”„ë¡œì íŠ¸ì— ê´€í•œ ì •ë³´ì™€ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €(npm, yarn)ì„ í†µí•´ ì„¤ì¹˜í•œ __ëª¨ë“ˆë“¤ì˜ ì˜ì¡´ì„±ì„ ê´€ë¦¬í•˜ëŠ” íŒŒì¼__
    * __â‡’ `node_modules` í´ë”ì˜ ì •ë³´ë£° ë‹´ê³  ìˆëŠ” íŒŒì¼__

    ```shell
    # package.json íŒŒì¼ ìƒì„±
    # í”„ë¡œì íŠ¸ëª…, ì„¤ëª… ë“± ì‘ì„±í•  ë‚´ìš©ì´ ìˆì„ ê²½ìš°
    npm init 

    # package.json íŒŒì¼ ìƒì„±ì‹œ ë¬´ì¡°ê±´ yesë¡œ ëŒ€ë‹µí•œë‹¤ëŠ” ì˜µì…˜
    # ì…ë ¥í•  ë‚´ìš©ì—†ì´ package.json ìƒì„± 
    npm init -y 
    ```

    ```json
    // JSON í¬ë§· í˜•ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§ .json 
    {
      "name": "my-app",     // í”„ë¡œì íŠ¸ ì´ë¦„ (ì†Œë¬¸ì-ì´ë¦„ í˜•íƒœ)
      "version": "1.0.0",   // ì‹œë§¨í‹± ë²„ì „(Semantic Versioning)
      "description": "React Application Demo",
      "main": "index.js",   // npm start ì‹¤í–‰ì‹œ í•´ë‹¹ íŒŒì¼ ì‹¤í–‰ 
      "scripts": {          // ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´, ì§ì ‘ ì»¤ìŠ¤í…€ ê°€ëŠ¥
        "test": "echo \"Error: no test specified\" && exit 1" 
      },
      "author": "",
      "license": "ISC",
      "dependencies":{
        "react": "^17.0.2", // ëª¨ë“ˆì˜ ë²„ì „ê³¼ ì´ë¦„ì´ ì¶”ê°€ ë˜ëŠ” ì˜ì—­
      },
    }
    ```

  * __[package-lock.json](https://jihyundev.tistory.com/21, 'reference link')__  
    * íŒ¨í‚¤ì§€ì˜ ì •í™•í•œ ë²„ì „ì„ ì¶”ì í•˜ê¸° ìœ„í•œ ìš©ë„ì˜ íŒŒì¼
    * package.json íŒ¨í‚¤ì§€ ëª¨ë“ˆì˜ ì •í™•í•œ ë²„ì „ ì •ë³´ë“¤ì´ ë‹´ê²¨ìˆëŠ” íŒŒì¼
    * í”„ë¡œì íŠ¸ì˜ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ package.json íŒŒì¼ë¡œ ë²„ì „ì˜ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ê¸°ì—ëŠ” í•œê³„ê°€ ìˆì–´ ì‚¬ìš©ëœë‹¤.
    * í•´ë‹¹ í´ë”ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬ í•´ì•¼ ë” ë§ì€ ê°œë°œìì™€ í˜‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.(Git ê´€ë¦¬)

* __node_modules__

  * npm install (npm i) ëª…ë ¹ì–´ë¡œ ì„¤ì¹˜í•œ ëª¨ë“ˆê³¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ `node_modules` í´ë” ì•ˆì— ìœ„ì¹˜ í•˜ê²Œ ëœë‹¤.

    ```shell
    # -D ì—†ì´ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ ê²½ìš° 
    npm install react
    npm i react

    # -D ë¶™ì—¬ì„œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ ê²½ìš° 
    npm i --save-dev typescript 
    npm i -D typescript 
    ```

  * -D ì—†ì´ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ ê²½ìš° `package.json "dependencies"` ì˜ì—­ í‘œê¸° (ë°°í¬ì‹œ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€)
  * -D ë¶™ì—¬ì„œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œ ê²½ìš° `package.json "devDependencies"` ì˜ì—­ í‘œê¸° (ê°œë°œ í™˜ê²½ì—ì„œ ë„êµ¬ë¡œì„œ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€)  

* __npx__
  * `node_modules` í´ë”ì˜ `.bin` í´ë” ì•ˆì˜ íŒ¨í‚¤ì§€ë“¤ì„ ì‹¤í–‰ í•´ì£¼ëŠ” ëª…ë ¹ì–´
    * `./node_modules/.bin/tsc` = `npx tsc`
    * `.bin` í´ë”ì•ˆì˜ íŒŒì¼ë“¤ì€ `ì»´íŒŒì¼ëŸ¬`ì´ë‹¤.
  * -Dë¡œ ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ì˜ ê²½ìš° npxë¡œ ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤.

<br/>

### 3. `.gitignore` íŒŒì¼ ìƒì„±

* ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©í•˜ê³  ì†ŒìŠ¤ë¡œ ê´€ë¦¬ ë˜ì§€ ì•Šì•„ë„ ë˜ëŠ” íŒ¨í‚¤ì§€ë“¤ì˜ ì •ë³´ë¥¼ ê¸°ì¬í•˜ëŠ” íŒŒì¼
* `node_modules`, `dist` , `parcel-cache`
  * [gitignore ìƒì„± ì‚¬ì´íŠ¸](https://www.toptal.com/developers/gitignore)
  * [gitHubì—ì„œ ê¸°ë³¸ ì œê³µí•˜ëŠ” gitignore](https://github.com/github/gitignore)

<br/>

### 4. `Typescript` ì„¤ì¹˜ ë° ì„¤ì •

  ```shell
  # 1.íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„¤ì¹˜
  npm i -D typescript

  # 2.íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬(tsc)ë¥¼ ì‹¤í–‰í•´ ì´ˆê¸°í™” â‡’ tsconfig.json íŒŒì¼ ìƒì„± 
  npx tsc --init
  ```

  ```json
  // 3.tsconfig.json 
  //reactë¥¼ ì‚¬ìš© í•  ì˜ˆì •ì´ë¯€ë¡œ ì£¼ì„ ì œê±° ë° jsx ì´ë¦„ ë³€ê²½ 
  "jsx": "react-jsx", 
  ```

  <br/>

### 5. `ESLint` ì„¤ì¹˜ ë° ì„¤ì •

```shell
# 1. eslint ì„¤ì¹˜
npm i -D eslint

# 2. eslint ì‹¤í–‰í•´ ì´ˆê¸°í™”
# eslint ì¡°ê¸ˆì”© ì§ˆë¬¸ì€ ë‹¬ë¼ì§„ë‹¤.
npx eslint --init
```

```shell
Ok to proceed? (y) 

? How would you like to use ESLint?
> To check syntax, find problems, and enforce code style

? What type of modules does your project use?
> JavaScript modules (import/export)

? Which framework does your project use?
> React

? Does your project use TypeScript?
> Yes

? Where does your code run?
> Browser

? How would you like to define a style for your project?
> Use a popular style guide

? Which style guide do you want to follow?
> XO: https://github.com/xojs/eslint-config-xo-typescript

? What format do you want your config file to be in?
> JavaScript 

? Would you like to install them now?
> Yes

? Which package manager do you want to use?
> npm
```

```json
// 4. .eslintrc.js íŒŒì¼ ìˆ˜ì • 
env:{ // ...(ì „ëµ)...
      jest:true // ì¶”ê°€ 
}    

// 5. .eslintignore íŒŒì¼ ìƒì„± 
//.gitignore íŒŒì¼ ë‚´ìš©ê³¼ ë™ì¼í•˜ê²Œ ì ìš©í•˜ë©´ ëœë‹¤. 
```

  <br/>

### 6. `React` ì„¤ì¹˜ ë° ì„¤ì •

``` shell
# 1.react ì„¤ì¹˜
npm i react react-dom 

# 2.typescript ì‚¬ìš©í• ê±°ë¼ì„œ í•´ë‹¹ íŒ¨í‚¤ì§€ ì„¤ì¹˜  
npm i -D @types/react @types/react-dom
```

  <br/>

### 7. í…ŒìŠ¤íŠ¸ ë„êµ¬ ì„¤ì¹˜ (`Jest`)

```shell
# 1.Jest ì„¤ì¹˜
npm i -D jest @types/jest @swc/core @swc/jest \
  jest-environment-jsdom \
  @testing-library/react @testing-library/jest-dom@5.16.4
```

```javascript
// 2.jest.config.js íŒŒì¼ì„ ì‘ì„±í•´ì„œ í…ŒìŠ¤íŠ¸ì— SWCë¥¼ ì‚¬ìš©í•˜ì.   
module.exports = {
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: [
    '@testing-library/jest-dom/extend-expect',
  ],
  transform: {
    '^.+\\.(t|j)sx?$': ['@swc/jest', {
      jsc: {
        parser: {
          syntax: 'typescript',
          jsx: true,
          decorators: true,
        },
        transform: {
          react: {
            runtime: 'automatic',
          },
        },
      },
    }],
  },
  testPathIgnorePatterns: [
    '<rootDir>/node_modules/',
    '<rootDir>/dist/',
  ],
};
```

  <br/>

### 8. ë²ˆë“¤ëŸ¬ ë„êµ¬ ì„¤ì¹˜ (`Parcel`)

```shell
# 1.parcel ì„¤ì¹˜ (ì›¹ì„œë²„ ë„ìš°ê¸° ìš©ìœ¼ë¡œ)
npm i -D parcel
```

<br/>

### 9. `package.js` íŒŒì¼ì˜ scriptsë¥¼ ìˆ˜ì •

* ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ì˜ ì‹¤í–‰ ëª…ë ¹ì–´ ì„¤ì •

```json
"scripts": {
  "start": "parcel --port 8080",
  "build": "parcel build",
  "check": "tsc --noEmit",
  "lint": "eslint --fix --ext .js,.jsx,.ts,.tsx .",
  "test": "jest",
  "coverage": "jest --coverage --coverage-reporters html",
  "watch:test": "jest --watchAll"
},
```
